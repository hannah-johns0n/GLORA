<%- include('../partials/user/header', { userName: userName }) %>

<div class="container mt-5 d-flex justify-content-center">
    <div class="card shadow-lg p-4" style="max-width: 600px; width: 100%;">
        <h2 class="text-center mb-4">Edit Address</h2>

        <form action="/edit-address/<%= address._id %>" method="POST">
            <div class="mb-3">
                <label for="addressType" class="form-label">Address Type</label>
                <input type="text" id="addressType" name="addressType" value="<%= address.addressType %>" class="form-control" required>
            </div>

            <div class="mb-3">
                <label for="city" class="form-label">City</label>
                <input type="text" id="city" name="city" value="<%= address.city %>" class="form-control" required>
            </div>

            <div class="mb-3">
                <label for="landmark" class="form-label">Landmark</label>
                <input type="text" id="landmark" name="landmark" value="<%= address.landmark %>" class="form-control" required>
            </div>

            <div class="mb-3">
                <label for="state" class="form-label">State</label>
                <input type="text" id="state" name="state" value="<%= address.state %>" class="form-control" required>
            </div>

            <div class="mb-3">
                <label for="pincode" class="form-label">Pincode</label>
                <input type="number" id="pincode" name="pincode" value="<%= address.pincode %>" class="form-control" required>
            </div>

            <div class="mb-3">
                <label for="phoneNumber" class="form-label">Phone Number</label>
                <input type="number" id="phoneNumber" name="phoneNumber" value="<%= address.phoneNumber %>" class="form-control" required>
            </div>

            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-success">Update Address</button>
                <a href="/manage-address" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>

<%- include('../partials/user/footer') %>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  <% if (typeof error !== 'undefined' && error) { %>
    Swal.fire({
      icon: 'error',
      title: 'Oops...',
      text: '<%= error %>'
    });
  <% } %>

  <% if (typeof success !== 'undefined' && success) { %>
    Swal.fire({
      icon: 'success',
      title: 'Success!',
      text: '<%= success %>'
    });
  <% } %>
</script>
